var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{u as i}from"./useElementSize.58e4396b.js";import{d as u,a as n,G as p,r as v,w as d,y as m,p as c,q as y,X as f,k as g,A as h,s as b,F as j,Q as x,Y as O,Z as H,V as k,S as w}from"./vendor.e09d404b.js";import"./index.e7370584.js";const P=u({name:"VirtualList"});const $=u((S=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&o(e,a,t[a]);if(l)for(var a of l(t))s.call(t,a)&&o(e,a,t[a]);return e})({},P),t(S,a({props:{is:{type:String,default:"div"},values:{type:Array,required:!0},totalCount:{type:Number,default:void 0},itemHeight:{type:Number,required:!0}},setup:function(e){const t=e,a=n(),l=p((()=>{var e;return null!=(e=t.totalCount)?e:t.values.length})),{borderBoxHeight:r,contentBoxWidth:s}=i(a),o=p((()=>Math.ceil(r.value/t.itemHeight))),u=n(0),P=v({paddingTop:"0",paddingBottom:"0"}),$=p((()=>t.values.slice(u.value,u.value+o.value+1).map(((e,a)=>({value:e,key:u.value+a,index:u.value+a,attrs:{style:{height:`${t.itemHeight}px`,overflow:"hidden"}}}))))),S=e=>{u.value=Math.floor(e/t.itemHeight);const a=t.itemHeight*(u.value+o.value+1),r=t.itemHeight*l.value;P.paddingTop=u.value*t.itemHeight+"px",P.paddingBottom=`${Math.max(r-a,0)}px`};return d((()=>t.values),(()=>{a.value&&S(a.value.scrollTop)}),{immediate:!0,deep:!0}),(t,r)=>(m(),c(H(e.is),{ref:(e,t)=>{t.el=e,a.value=e},class:"overflow-auto",onScrollPassive:r[0]||(r[0]=e=>S(t.$el.scrollTop))},{default:y((()=>[f(l)<=1?(m(),g(j,{key:0},[0===f(l)?h(t.$slots,"placeholder",{key:0}):b("",!0),(m(!0),g(j,null,x(e.values,(e=>h(t.$slots,"default",{value:e,attrs:{}}))),256))],64)):(m(),g("div",{key:1,style:O(f(P))},[(m(!0),g(j,null,x(f($),(e=>h(t.$slots,"default",k(w({key:e.key},e))))),128))],4))])),_:3},512))}}))));var S;export{$ as default};
